{"version":3,"sources":["components/Image/ExpandModal/ExpandModal.js","api.js","components/Image/index.js","components/Image/Image.js","components/DragItem.js","components/Grid.js","components/GridContext.js","components/Gallery/Gallery.js","components/Gallery/index.js","assets/flickrDots.svg","assets/sportsTag.jpeg","assets/natureTag.jpg","assets/artsTag.jpeg","assets/beachTag.jpg","assets/background.jpg","assets/FlickrLogo.png","components/NavBar/NavBar.js","components/App/App.js","components/App/index.js","components/Main.js","index.js"],"names":["ExpandModal","props","state","Modal","setAppElement","isOpen","this","showModal","portalClassName","src","image","className","onClick","closeModal","React","Component","baseUrl","axiosWithOptions","axios","create","withCredentials","api","user","setName","name","post","analytics","logAction","type","message","details","search","getItems","tag","page","get","Image","handleCloseModal","setState","showExpandModal","rotation","dto","farm","server","id","secret","handleDelete","newRotation","style","border","justifyContent","alignItems","backgroundImage","urlFromDto","backgroundSize","backgroundPosition","transform","icon","faSyncAlt","title","rotateImage","faTrashAlt","deleteImage","faExpand","expandImage","DragItem","memo","onMoveItem","children","ref","useRef","useDrag","item","collect","monitor","isDragging","connectDrag","useDrop","accept","hover","hoveredOverItem","connectDrop","containerStyle","opacity","Children","map","child","cloneElement","forwardedRef","Grid","styled","div","GridItemWrapper","GridItem","moveElement","array","index","offset","oldIndex","newIndex","length","splice","move","GridContext","createContext","items","GridProvider","handleObserver","entities","observer","y","boundingClientRect","prevY","setItems","deleteItem","newSetOfImages","filter","toast","moveItem","sourceId","destinationId","sourceIndex","findIndex","destinationIndex","a","loading","res","data","photos","photo","totalItems","parseInt","total","newRawItems","newItems","i","currentRawItem","push","configure","IntersectionObserver","bind","root","rootMargin","threshold","observe","loadingRef","prevProps","Provider","value","Gallery","useContext","imageId","NavBar","Nav","LogoText","display","href","target","cookies","Cookies","App","handleSearchTagChange","e","newTag","typingTimeout","clearTimeout","setTimeout","tempTag","inputName","nameRequest","status","alert","BackgroundImage","fontSize","LogoDots","onChange","event","placeholder","Card","natureTag","Body","Title","sportsTag","artsTag","beachTag","DndProvider","backend","HTML5Backend","Form","Label","Group","Control","handleNameInputChange","Button","handleSubmitName","AppComponent","defaultProps","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fc549f5a.chunk.js","sourcesContent":["import React from 'react';\nimport Modal from 'react-modal';\nimport './ExpandModal.scss';\n\n\n\nclass ExpandModal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n\n        }\n    }\n    componentDidMount() {\n        Modal.setAppElement('body'); \n      }\n\n    render() {\n        return (\n            <Modal isOpen={this.props.showModal} portalClassName=\"modal\">\n                <img src={this.props.image} className=\"expanded-img\"/>\n               <button onClick={() => this.props.closeModal()} className={\"close-button\"}>Close</button>\n            </Modal>\n        )\n    }\n}\n\nexport default ExpandModal; ","import axios from \"axios\";\n\nconst baseUrl = \"http://localhost:5000\";\nconst axiosWithOptions = axios.create({\n    withCredentials: true, \n})\n\nconst api = {\n    user: {\n        setName: (name) => {\n            return axiosWithOptions.post(`${baseUrl}/name`, {name});\n        },\n    },\n    analytics: {\n        logAction: (type, message, details) => {\n            return axiosWithOptions.post(`${baseUrl}/user-event`, {type, message, details})\n        }\n    },\n    search: {\n        getItems: (tag, page) => {\n            const perPage = 20;\n            return axios.get(`https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=522c1f9009ca3609bcbaf08545f067ad&tags=${tag}&tag_mode=any&per_page=${perPage}&format=json&nojsoncallback=1&page=${page}`)\n        }\n\n    }\n};\n\nexport default api;","import Image from './Image';\n\nexport default Image;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSyncAlt, faTrashAlt, faExpand } from '@fortawesome/free-solid-svg-icons';\nimport './Image.scss';\nimport ExpandModal from \"./ExpandModal/ExpandModal.js\";\nimport api from '../../api';\n\nclass Image extends React.Component {\n  static propTypes = {\n    dto: PropTypes.object,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      rotation: 0,\n      showExpandModal: false\n    };\n  }\n\n  urlFromDto(dto) {\n    return `https://farm${dto.farm}.staticflickr.com/${dto.server}/${dto.id}_${dto.secret}.jpg`;\n  }\n\n  deleteImage() {\n    const { id } = this.props.dto;\n    this.props.handleDelete(id);\n  }\n\n  expandImage() {\n    this.setState({\n      showExpandModal: true\n    });\n    api.analytics.logAction('expand image', 'User expanded an image', `Image Id: ${this.props.dto.id}`);\n  }\n\n  rotateImage() {\n    let newRotation = 90 + this.state.rotation;\n    this.setState ({\n      rotation: newRotation\n    });\n    api.analytics.logAction('rotate', 'User rotated an image', `Image Id: ${this.props.dto.id}`);\n  }\n\n  handleCloseModal = () => {\n    this.setState({\n      showExpandModal: false\n    })\n  }\n\n  render() {\n    return (        \n      <div className=\"image-root\"\n            style={{\n              border: '1px solid white',\n              justifyContent: 'center',\n              alignItems: 'center',\n              backgroundImage: `url(${this.urlFromDto(this.props.dto)})`,\n              backgroundSize: 'cover',\n              backgroundPosition: '50%',\n              transform: `rotate(${this.state.rotation}deg)`\n            }}>\n          <div className=\"image-icon-section\">\n              <FontAwesomeIcon icon={faSyncAlt} className=\"image-icon\" name=\"sync-alt\" title=\"rotate\" onClick={() => this.rotateImage()}/>\n              <FontAwesomeIcon icon={faTrashAlt} className=\"image-icon\" name=\"trash-alt\" title=\"delete\" onClick={() => this.deleteImage()}/>\n              <FontAwesomeIcon icon={faExpand} className=\"image-icon\" name=\"expand\" title=\"expand\" onClick={() => this.expandImage()}/>\n          </div>\n        <ExpandModal showModal={this.state.showExpandModal} image={this.urlFromDto(this.props.dto)} closeModal={() => this.handleCloseModal()}></ExpandModal>\n    </div>\n    );\n  }\n}\n\nexport default Image;\n","import React, { memo, useRef } from \"react\";\nimport { useDrag, useDrop } from \"react-dnd\";\n\nconst DragItem = memo(({ id, onMoveItem, children }) => {\n  const ref = useRef(null);\n\n  const [{ isDragging }, connectDrag] = useDrag({\n    item: { id, type: \"IMG\" },\n    collect: monitor => {\n      return {\n        isDragging: monitor.isDragging()\n      };\n    }\n  });\n\n  const [, connectDrop] = useDrop({\n    accept: \"IMG\",\n    hover(hoveredOverItem) {\n      if (hoveredOverItem.id !== id) {\n        onMoveItem(hoveredOverItem.id, id);\n      }\n    }\n  });\n\n  connectDrag(ref);\n  connectDrop(ref);\n\n  const opacity = isDragging ? 0.5 : 1;\n  const containerStyle = { opacity };\n\n  return React.Children.map(children, child =>\n    React.cloneElement(child, {\n      forwardedRef: ref,\n      style: containerStyle\n    })\n  );\n});\n\nexport default DragItem;","import React from \"react\";\nimport styled from \"styled-components\";\n\nexport const Grid = styled.div`\n  display: flex;\n  justify-content: start;\n  flex-wrap: wrap;\n`;\n\nconst GridItemWrapper = styled.div`\n  flex: 0 0 25%;\n  display: flex;\n  justify-content: center;\n  align-items: stretch;\n  box-sizing: border-box;\n  :before {\n    content: \"\";\n    display: table;\n    padding-top: 100%;\n  }\n`;\n\nexport const GridItem = ({ forwardedRef, ...props }) => (\n  <GridItemWrapper ref={forwardedRef} {...props} />\n);","import React, { Component, createContext } from \"react\";\nimport axios from 'axios';\nimport api from './../api';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nfunction move(array, oldIndex, newIndex) {\n  if (newIndex >= array.length) {\n    newIndex = array.length - 1;\n  }\n  array.splice(newIndex, 0, array.splice(oldIndex, 1)[0]);\n  return array;\n}\n\nfunction moveElement(array, index, offset) {\n  const newIndex = index + offset;\n\n  return move(array, index, newIndex);\n}\n\n\nconst GridContext = createContext({ items: [] });\n\nexport class GridProvider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n      moveItem: this.moveItem,\n      getItems: this.getItems,\n      deleteItem: this.deleteItem,\n      totalItems: 0,\n      page: 1,\n      loading: false,\n      prevY: 0\n    };\n  }\n  \n  componentDidMount() {\n    toast.configure(); \n    var options = {\n      root: null,\n      rootMargin: \"0px\",\n      threshold: 1.0\n    };\n      this.observer = new IntersectionObserver(\n        this.handleObserver.bind(this),\n        options \n      );\n      this.observer.observe(this.loadingRef);\n  }\n\n  handleObserver = (entities, observer) => {\n    if (this.state.items.length > 0) {\n      const y = entities[0].boundingClientRect.y;\n      if (this.state.prevY > y) {\n        this.getItems();\n      }\n      this.setState({ prevY: y });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.tag !== prevProps.tag) {\n      this.setItems([]);\n      this.setState({\n        page: 1, \n        prevY: 0\n      })\n      this.getItems();\n    }\n  }\n\n  setItems = items => this.setState({ items });\n\n  deleteItem = id => {\n    const newSetOfImages = this.state.items.filter(image => image.id != id);\n    this.setItems(newSetOfImages);\n    api.analytics.logAction('delete', 'User deleted an image', `Image ID: ${id}`);\n    toast(\"Picture deleted!\");\n  }\n\n  moveItem = (sourceId, destinationId) => {\n    const sourceIndex = this.state.items.findIndex(\n      item => item.id === sourceId\n    );\n    const destinationIndex = this.state.items.findIndex(\n      item => item.id === destinationId\n    );\n\n    if (sourceId === -1 || destinationId === -1) {\n      return;\n    }\n\n    const offset = destinationIndex - sourceIndex;\n\n    this.setState(state => ({\n      items: moveElement(state.items, sourceIndex, offset)\n    }));\n    toast(\"Pictures reshuffled!\");\n  };\n\n  getItems = async () => {\n    this.setState({ loading: true });\n    if (this.state.page > 1) { \n      api.analytics.logAction('scroll', 'User scrolled');\n    }\n    const { tag } = this.props;\n    let res = await api.search.getItems(tag, this.state.page);\n    if (res.data && res.data.photos && res.data.photos.photo && res.data.photos.photo.length > 0) {\n      this.setState({\n        page: this.state.page + 1,\n        totalItems: this.state.page == 1 ? parseInt(res.data.photos.total) : this.state.totalItems \n      });\n      let newRawItems = res.data.photos.photo;\n      let newItems = this.state.items;\n      for (let i = 0; i < newRawItems.length; i++) {\n        let currentRawItem = newRawItems[i];\n        if (newItems.filter(item => item.id === currentRawItem.id).length > 0) {\n          continue;\n        } else {\n          newItems.push(currentRawItem);\n        }\n      }\n      this.setItems(newItems);\n      }\n    };\n\n  render() {\n    return (\n      <div>\n        <GridContext.Provider value={this.state}>\n          {this.props.children}\n          {this.state.loading && this.props.tag.length > 0 &&\n            <div>\n              <div>Loading Images...</div>\n              {this.state.items.length > 0 ? \n                <div>Displaying [{this.state.items.length}/{this.state.totalItems}]</div>\n                :\n                <div></div>\n              }\n            </div>\n          }\n          <div\n            ref={loadingRef => (this.loadingRef = loadingRef)} />\n        </GridContext.Provider>\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default GridContext;","import React, { useContext } from \"react\";\nimport Image from '../Image';\nimport './Gallery.scss';\nimport DragItem from \"./../DragItem\";\nimport { Grid, GridItem } from \"./../Grid\";\nimport GridContext from \"./../GridContext\";\n\nfunction Gallery() {\n  const { items, moveItem, deleteItem, totalItems } = useContext(GridContext);\n\n  return (\n    <div>\n        <div className=\"gallery-root\">\n            {items.length > 0 ? \n              <div className=\"displaying-label\">Displaying [{items.length}/{totalItems}]</div>\n              : \n              <div></div>\n            }\n            <Grid>\n              {items.map((item, index) => {\n                return (\n                  <DragItem key={item.id} id={item.id} onMoveItem={moveItem}>\n                    <GridItem>\n                      <Image\n                        key={index} \n                        dto={item} \n                        index={index} \n                        handleDelete={(imageId) => deleteItem(imageId)}\n                      />\n                    </GridItem>\n                  </DragItem>\n                )\n              })\n            }\n            </Grid>\n        </div>\n    </div>\n  );\n}\n\nexport default Gallery;\n","import Gallery from './Gallery';\n\nexport default Gallery;\n","export default __webpack_public_path__ + \"static/media/flickrDots.83c2091a.svg\";","export default __webpack_public_path__ + \"static/media/sportsTag.29eb3213.jpeg\";","export default __webpack_public_path__ + \"static/media/natureTag.b284df67.jpg\";","export default __webpack_public_path__ + \"static/media/artsTag.b1cb1170.jpeg\";","export default __webpack_public_path__ + \"static/media/beachTag.23012b35.jpg\";","export default __webpack_public_path__ + \"static/media/background.c4c988c6.jpg\";","export default __webpack_public_path__ + \"static/media/FlickrLogo.1b4ee791.png\";","import React from 'react';\nimport LogoText from \"./../../assets/FlickrLogo.png\";\nimport { Nav, Image } from 'react-bootstrap';\nimport BackgroundImage from \"./../../assets/background.jpg\";\nimport \"./NavBar.scss\";\n\n\nclass NavBar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n        }\n      }\n    render() {\n        return (\n          <Nav className=\"nav-bar panel fixed-top navbar-expand-sm navbar-light bg-white\"> \n            <div className=\"left-header\">\n              <Image className=\"logo-image\" src={LogoText} />\n            </div>\n            <div>\n              {!this.props.name ?\n                <div>\n                  <a href=\"https://www.flickr.com/\" target=\"_blank\" className=\"link-button join-flickr\">Join the Flickr Community </a>\n                </div> \n                :\n                <div style={{display: \"inline-flex\"}}>\n                  <a className=\"link-button search\" href=\"/#app-root\">Back To Top</a>            \n                  <h4 className=\"name-nav-bar\">Welcome {this.props.name}!</h4>\n                  <a href=\"https://www.flickr.com/\" target=\"_blank\" className=\"link-button join-flickr\">Join the Flickr Community </a>\n                </div> \n              }\n            </div>\n          </Nav>\n        )\n    }\n}\n\nexport default NavBar; ","import React from 'react';\nimport './App.scss';\nimport Gallery from '../Gallery';\nimport Cookies from \"universal-cookie\";\nimport api from './../../api';\nimport { Form, Button, Card, Image } from 'react-bootstrap';\nimport LogoDots from \"./../../assets/flickrDots.svg\";\nimport sportsTag from \"./../../assets/sportsTag.jpeg\";\nimport natureTag from \"./../../assets/natureTag.jpg\";\nimport artsTag from \"./../../assets/artsTag.jpeg\";\nimport beachTag from \"./../../assets/beachTag.jpg\";\nimport BackgroundImage from \"./../../assets/background.jpg\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport { GridProvider } from \"./../GridContext\";\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport NavBar from \"./../NavBar/NavBar\"\n\nconst cookies = new Cookies();\n\nclass App extends React.Component {\n  static propTypes = {\n  };\n\n  constructor() {\n    super();\n    this.typingTimeout = 0;\n    this.state = {\n      tempTag: '',\n      tag: '',\n      name: '',\n      inputName: ''\n    };\n  }\n\n  componentDidMount() {\n    let name = cookies.get('name');\n    if (name) {\n      this.setState({\n        name\n      })\n    }\n  }\n\n  handleNameInputChange(e) {\n    this.setState({\n      inputName: e.target.value\n    })\n  }\n\n  async handleSubmitName() {\n    let nameRequest = await api.user.setName(this.state.inputName);\n    if (nameRequest.data.status == \"success\") {\n        this.setState({\n          name: cookies.get('name')\n        });\n    } else {\n        alert(`Error: ${nameRequest.data.message}`);\n    }\n  }\n\n  handleSearchTagChange = (e) => {\n    let newTag = e.target.value;\n    if (this.typingTimeout) {\n      clearTimeout(this.typingTimeout);\n    }\n    this.typingTimeout = setTimeout(() => {\n      this.setState({\n        tag: newTag\n      }),\n      api.analytics.logAction('tag', 'User entered new tag', `Tag: ${this.state.tag}`)\n    }, 300);\n    this.setState({\n      tempTag: newTag\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"app-root\" id=\"app-root\">\n        {this.state.name ? \n          <div>\n            <NavBar name={this.state.name} tag={this.state.tag}></NavBar>\n            <div className=\"app-header\" style={{backgroundImage: `url(${BackgroundImage})`}}>\n              <h2 className=\"app-title\">Your Flickr Inspiration</h2>\n              <h4 style={{fontSize: \"14px\"}}>Home to tens of billions of photos and 2 million groups.</h4>\n              <Image className=\"logo-dots\" src={LogoDots}></Image>\n              <div>\n                <p className=\"app-sub-tag\">Find your collection of photos. Enter a tag and your pictures will appear below!</p>\n                <input className=\"app-input\" onChange={event => this.handleSearchTagChange(event)} value={this.state.tempTag} placeholder={\"Enter keyword\"}/>\n              </div>\n            </div>\n            {this.state.tag.length <= 0 ? \n              <div className=\"trending-section\">\n                <h2>Explore Trending Tags</h2>\n                <div className=\"cards\">\n                  <Card className=\"card\" onClick={() => this.setState({tempTag: \"nature\", tag: \"nature\"})} style={{backgroundImage: `url(${natureTag})`, backgroundSize: \"250px 150px\"}}>\n                    <Card.Body>\n                        <Card.Title className=\"card-title\">Nature</Card.Title>\n                    </Card.Body>\n                  </Card>\n                  <Card className=\"card\" onClick={() => this.setState({tempTag: \"sports\", tag: \"sports\"})}\n                  style={{backgroundImage: `url(${sportsTag})`, backgroundSize: \"165px 150px\"}}>\n                    <Card.Body>\n                      <Card.Title>Sports</Card.Title>\n                    </Card.Body>\n                  </Card>\n                  <Card className=\"card\" onClick={() => this.setState({tempTag: \"arts\", tag: \"arts\"})}\n                  style={{backgroundImage: `url(${artsTag})`, backgroundSize: \"250px 150px\"}}>\n                    <Card.Body>\n                      <Card.Title>Arts</Card.Title>\n                    </Card.Body>\n                  </Card>\n                  <Card className=\"card\" onClick={() => this.setState({tempTag: \"beach\", tag: \"beach\"})}style={{backgroundImage: `url(${beachTag})`, backgroundSize: \"175px 150px\"}}>\n                    <Card.Body>\n                      <Card.Title>Beach</Card.Title>\n                    </Card.Body>\n                  </Card>\n                </div>\n              </div>\n              :\n              <div></div>\n            }\n            <DndProvider backend={HTML5Backend}>\n              <GridProvider tag={this.state.tag}>\n                <Gallery/>\n              </GridProvider>\n            </DndProvider>\n          </div>\n          :\n          <div>\n            <NavBar></NavBar>\n            <div className=\"enter-name-form\">\n              <Form>            \n                <Form.Label>Enter your name to access your Flickr Gallery:</Form.Label>\n                <Form.Group>\n                  <Form.Control type=\"text\" \n                                placeholder=\"Enter name\" \n                                className=\"name-input\" \n                                onChange={(e) => this.handleNameInputChange(e)} \n                                value={this.state.inputName}/>\n                </Form.Group>\n              </Form>\n              <Button type=\"submit\" className=\"submit-button\" onClick={() => this.handleSubmitName()}>Submit</Button>\n            </div>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import App from './App';\n\nexport default App;\n","import 'normalize.css/normalize.css';\nimport '../styles/App.css';\n\nimport React from 'react';\nimport App from './App';\n\nclass AppComponent extends React.Component {\n  render() {\n    return (\n      <div className=\"index\">\n        <App/>\n      </div>\n    );\n  }\n}\n\nAppComponent.defaultProps = {\n};\n\nexport default AppComponent;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/Main';\n\n// Render the main component into the dom\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}